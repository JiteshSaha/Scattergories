<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Scattergories</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="header"><h1>Scattergories</h1> <div id="options"> âš™</div></div>
    <div class="master-div">
        <div class="container">                
            <div class="mini-container">
                <div class="holder top-div"  id="generate-btn">
                    <div id="letter">J</div>
                    <div id="restart-btn">Click to restart</div>
                </div>
                <div class="btns left-div">
                    <div id="play-btn">PLAY</div>
                    <div id="pause-btn" style="display: none;">PAUSE</div>
                </div>
                <div class="watch-reset">
                    <div id="stopwatch" class="right-div item">11:11:11</div>
                    <!-- <div id= "reset" class="item">RESET</div> -->
                </div>
            </div>
        </div>

        <div id="topic-container" class="topic-container">
            <!-- Categories will be populated here -->
        </div>
    </div>

    <script>
        const playBtn = document.getElementById('play-btn');
const pauseBtn = document.getElementById('pause-btn');
const restartBtn = document.getElementById("top-div");
const stopwatchDisplay = document.getElementById('stopwatch');

// Stopwatch variables
let countdownInterval;
let timeRemaining = 60 * 5;  // Set the initial countdown time in seconds (5 minutes here)
let isRunning = false;  // To track the running status of the stopwatch

// Convert seconds to HH:MM:SS format
function formatTime(seconds) {
    const minutes = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
}

// Start the countdown
function startCountdown() {
    if (!isRunning) {
        isRunning = true;
        countdownInterval = setInterval(() => {
            timeRemaining--;
            stopwatchDisplay.innerHTML = formatTime(timeRemaining);

            if (timeRemaining <= 0) {
                clearInterval(countdownInterval);
                isRunning = false;
                playBtn.style.display = 'flex';
                pauseBtn.style.display = 'none';
            }
        }, 1000);

        // Hide Play, show Pause
        playBtn.style.display = 'none';
        pauseBtn.style.display = 'flex';
    }
}

// Pause the countdown
function pauseCountdown() {
    clearInterval(countdownInterval);
    isRunning = false;
    playBtn.style.display = 'flex';
    pauseBtn.style.display = 'none';
}

// Reset the countdown
function resetCountdown() {
    clearInterval(countdownInterval);
    isRunning = false;
    timeRemaining = 60 * 1; // Reset to 5 minutes
    stopwatchDisplay.innerHTML = formatTime(timeRemaining);
    playBtn.style.display = 'flex';
    pauseBtn.style.display = 'none';
}


// Initialize the display with the starting time
stopwatchDisplay.innerHTML = formatTime(timeRemaining);


        const letter = document.getElementById("letter")
        const topdiv = document.getElementsByClassName("top-div")[0]

        // Array containing all letters of the alphabet
        const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');

        // Function to get a random letter
        function getRandomLetter() {
            const randomIndex = Math.floor(Math.random() * alphabet.length); // Generate a random index
            return alphabet[randomIndex]; // Return the letter at the random index
        }

        topdiv.addEventListener('click' , ()=>{
            console.log('resetting')
            letter.innerHTML = getRandomLetter()
            resetCountdown()
        });

        const leftDiv = document.querySelector('.left-div');

        // On Left Div click: toggle between Play and Pause
        leftDiv.addEventListener('click', () => {
            if (playBtn.style.display === 'none') {
                // If Play button is hidden, show Play and hide Pause
                playBtn.style.display = 'flex';
                pauseBtn.style.display = 'none';
                console.log("paused")

                pauseCountdown();
                const covers = document.getElementsByClassName('opaque')    
                for (let i = 0; i < covers.length; i++) {
                    covers[i].style.backgroundColor = 'black';
                }

            } else {
                // If Pause button is hidden, show Pause and hide Play
                playBtn.style.display = 'none';
                pauseBtn.style.display = 'flex';
                console.log("play")
                startCountdown()
                const covers = document.getElementsByClassName('opaque')       
                for (let i = 0; i < covers.length; i++) {
                    covers[i].style.backgroundColor = 'transparent';
                }

            }
        });

        // Simulated JSON dataset
        const dataset = {
            "general": [
                "Fruits", "Countries", "Movies", "Animals", "Cities", "Brands", "Sports", "TV Shows", "Foods", "Inventions",
                "Colors", "Music Genres", "Books", "Historical Figures", "Cartoons", "Planets", "Technology Brands",
                "Famous Landmarks", "Celebrities", "Activities", "Languages", "Cars", "Types of Trees", "Desserts",
                "Countries in Europe", "Ice Cream Flavors", "Famous Scientists", "Board Games", "Superheroes", "Shapes",
                "Toys", "Comedies", "Rivers", "Musical Instruments", "Occupations", "Countries in Asia", "Famous Artists",
                "Famous Authors", "Books by Genre", "Buildings", "Philosophers", "Seasons", "Types of Weather",
                "Food Ingredients", "Circus Animals", "Tropical Fruits", "Fast Food Chains", "Historical Events",
                "Famous Wars", "Gems and Stones", "Paintings", "Dance Styles"
            ],
            "indian": [
                "Bollywood Movies", "Indian States", "Indian Festivals", "Famous Indian Leaders", "Indian Rivers", "Indian Cuisines",
                "Indian Monuments", "Famous Indian Authors", "Indian Traditional Dances", "Types of Indian Sweets",
                "Famous Indian Musicians", "Traditional Indian Clothing", "Indian Temples", "Indian Animals", "Indian Sports",
                "Indian Mythological Figures", "Indian Languages", "Indian Pop Music", "Indian TV Shows", "Famous Indian Artists",
                "Indian Temples", "Famous Indian Universities", "Indian Tea Varieties", "Bollywood Actors", "Indian Fashion Designers",
                "Indian Historical Figures", "Famous Indian Scientists", "Indian Street Foods", "Indian Holidays", "Famous Indian Monuments",
                "Indian Beauty Brands", "Indian Spiritual Leaders", "Indian Heroes from History", "Popular Indian Music Instruments",
                "Indian Religions", "Indian Cuisine Spices", "Indian Cricketers", "Indian Dance Forms", "Indian Scientists and Innovators",
                "Indian Games", "Traditional Indian Jewelry", "Indian Wildlife Sanctuaries", "Famous Indian Startups",
                "Indian Architects", "Famous Indian Architects", "Famous Indian Writers", "Indian Radio Shows", "Indian Literature Genres",
                "Indian Authors of Fiction", "Traditional Indian Festivals"
            ]
        };

        // Configurable number of topics to generate
        const numTopicsToGenerate = 10;

        function getRandomCategory() {
            // Combine the general and indian categories into one array
            const allCategories = [...dataset.general, ...dataset.indian];
            // Pick a random category
            return allCategories[Math.floor(Math.random() * allCategories.length)];
        }

        function generateTopics() {
            const container = document.getElementById('topic-container');
            // Clear previous content if any
            container.innerHTML = '';

            // Loop to create elements
            for (let i = 0; i < numTopicsToGenerate; i++) {
                const topic = getRandomCategory(); // Fetch random category
                // Create topic div and append it to container
                const topicDiv = document.createElement('div');
                topicDiv.classList.add('topic');
                
                const opaqueDiv = document.createElement('div');
                opaqueDiv.classList.add('opaque');
                opaqueDiv.textContent = (i+1) + ". " +topic;
                
                topicDiv.appendChild(opaqueDiv);
                container.appendChild(topicDiv);
            }
        }

        // Trigger on button click
        document.getElementById('generate-btn').addEventListener('click', generateTopics);
    </script>
</body>

</html>
